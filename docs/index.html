<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Helpful wrappers for tswge, vars and nnfor time series packages • tswgewrapped</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Helpful wrappers for tswge, vars and nnfor time series packages">
<meta property="og:description" content="This package provides several helpful wrappers for the already useful tswge, vars and nnfor package. ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">tswgewrapped</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.8.10.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/ModelBuildMultivariateVAR.html">ModelBuildMultivariateVAR</a>
    </li>
    <li>
      <a href="articles/ModelCompareMultivariateVAR.html">ModelMultivariateCompare</a>
    </li>
    <li>
      <a href="articles/ModelCompareNNforCaret.html">ModelCompareNNforCaret</a>
    </li>
    <li>
      <a href="articles/ModelCompareUnivariate.html">ModelCompareUnivariate</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="tswge-wrapped" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#tswge-wrapped" class="anchor"></a>TSWGE, wrapped</h1></div>
<p>This package contains several convenient wrappers for tswge, useful for Dr. Sadler’s time series class</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="fu">git</span> clone https://github.com/josephsdavid/tswgewrapped.git
<span class="ex">R</span> CMD INSTALL tswgewrapped</code></pre></div>
<p>or</p>
<div class="sourceCode"><pre class="r"><span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/devtools/man/reexports.html">install_github</a></span>(<span class="st">"josephsdavid/tswgewrapped"</span>)</pre></div>
<p>or</p>
<div class="sourceCode"><pre class="r">install.packages("remotes")
remotes::install_github("josephsdavid/tswgewrapped")</pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>Currently we have wrappers for arma, arima, aruma, sigplusnoise generators and forecasters</p>
<div id="time-series-generation-and-forecasting" class="section level3">
<h3 class="hasAnchor">
<a href="#time-series-generation-and-forecasting" class="anchor"></a>Time series generation and forecasting</h3>
<p>the <code><a href="reference/generate.html">generate(type, ...)</a></code> function generates time series, while the <code><a href="reference/fcst.html">fcst(type, ...)</a></code> function forecasts</p>
<div class="sourceCode"><pre class="r">library(tswgewrapped)

armats </pre></div>
</div>
<div id="time-series-transformtion" class="section level3">
<h3 class="hasAnchor">
<a href="#time-series-transformtion" class="anchor"></a>Time series transformtion</h3>
<p>We can also transform seasonal and arima time series with the <code><a href="reference/difference.html">difference(type, x, n)</a></code> function:</p>
<div class="sourceCode"><pre class="r">no_more_seasons </pre></div>
<p>Note that difference can accept either strings or plain words as the type argument, and accepts “arima”, “Arima”, “ARIMA”, “Aruma”, “ARUMA”, “aruma”, “seasonal”, “Seasonal” as possible values. It is also important to note that when transforming arima data more than one time (n &gt; 1), it will output the plots for each transformation step. This is on purpose! Part of good, consistent time series analysis is to examine these plots.</p>
</div>
<div id="model-identification" class="section level3">
<h3 class="hasAnchor">
<a href="#model-identification" class="anchor"></a>Model Identification</h3>
<p>A lot of times, it is good to not only look at the aic, but also the BIC, of your data when identifying the ARMA order of a model. For this we have the <code><a href="reference/aicbic.html">aicbic()</a></code> function, which runs both aic5 and bic5 with the same arguments, returning results in the form of a list, where [[1]] is aic and [[2]] is bic (hence the name aicbic).</p>
<div class="sourceCode"><pre class="r">aicbic(no_more_seasons)
aicbic(no_more_wandering, p = 0:13, q = 0:5)</pre></div>
</div>
<div id="model-assessment" class="section level3">
<h3 class="hasAnchor">
<a href="#model-assessment" class="anchor"></a>Model assessment</h3>
<p>We can calculate the ASE of a model with the <code>ase</code> function:</p>
<div class="sourceCode"><pre class="r">sznback </pre></div>
<p>We can also use the assess function as a convenient wrapper for ASE, which backcasts the forecast and calculates the ASE all in one go</p>
<div class="sourceCode"><pre class="r"><span class="fu"><a href="reference/assess.html">assess</a></span>(<span class="no">aruma</span>, <span class="no">sznlts</span>, <span class="kw">s</span> <span class="kw">=</span> <span class="fl">12</span>, <span class="kw">phi</span> <span class="kw">=</span> -<span class="fl">.9</span>, <span class="kw">n.ahead</span> <span class="kw">=</span> <span class="fl">20</span>)</pre></div>
</div>
</div>
<div id="bringing-it-all-together" class="section level2">
<h2 class="hasAnchor">
<a href="#bringing-it-all-together" class="anchor"></a>Bringing it all together</h2>
<p>Here we present an example workflow for time series analysis, from model identification to forecasting:</p>
<div class="sourceCode"><pre class="r"><span class="no">examplets</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/generate.html">generate</a></span>(<span class="no">aruma</span>, <span class="kw">n</span> <span class="kw">=</span> <span class="fl">500</span>, <span class="kw">s</span> <span class="kw">=</span> <span class="fl">12</span>, <span class="kw">d</span> <span class="kw">=</span> <span class="fl">3</span>, <span class="kw">phi</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">.2</span>,<span class="fl">.4</span>,-<span class="fl">.2</span>), <span class="kw">theta</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(-<span class="fl">.6</span>))</pre></div>
<p>First we examine our data with either plotts.sample.wge or individual tswge plotting functions:</p>
<div class="sourceCode"><pre class="r">plotts.sample.wge(examplets)

#&gt; or

plotts.wge(examplets)
parzen.wge(examplets)
acf(examplets)</pre></div>
<p>Next we have multiple tools to identify the order of the model: using Tiao-Tay overfitting and using Box-Jenkins-esque methods. For overfitting, we simply do est.ar.wge with a high value:</p>
<div class="sourceCode"><pre class="r"><span class="no">estim</span> <span class="kw">&lt;-</span> <span class="fu">est.ar.wge</span>(<span class="no">examplets</span>, <span class="kw">p</span> <span class="kw">=</span> <span class="fl">20</span>)</pre></div>
<p>However first we likely want to look for the arima order. We can do this the box jenkins method quickly with <code>difference</code></p>
<div class="sourceCode"><pre class="r"><span class="fu"><a href="reference/difference.html">difference</a></span>(<span class="no">arima</span>, <span class="no">examplets</span>, <span class="fl">5</span>)</pre></div>
<p>Since this recursively transforms, we can watch until the wandering component goes away, and set that value to be our order. We can also eliminate the seasonal component first too, with a fun guess and check technique</p>
<div class="sourceCode"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span>(<span class="fl">1</span>:<span class="fl">20</span>, <span class="no">difference</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="no">examplets</span>, <span class="kw">type</span> <span class="kw">=</span> <span class="no">seasonal</span>)</pre></div>
<p>and pick which seasonal component best fits. These qualitative combined with the quantitative Tiao-Tsay method of overfitting make up a complete, thourough, and well founded framework for determining the nonstationary orders of a time series, with a hopefully terse enough syntax that they will not tax the analyst more than they already are. After applying either of these graphical methods to determine one, it is probably wise to overfit using the other, and then double check by doing assessing the other component qualitatively and overfit the first. Once the order is found, we can then quickly assess the ARMA order:</p>
<div class="sourceCode"><pre class="r">library(magrittr)
szns % difference(arima, x = ., n = int_order) %&gt;% 
    difference(seasonal, x = ., n = szns) -&gt; transts

aics </pre></div>
<p>Next we can forecast ahead with our forecast function:</p>
<div class="sourceCode"><pre class="r">fcst(aruma, examplets, phi = pqs$phi, 
    theta = pqs$theta, s = szns, d = int_order, n.ahead = 20)</pre></div>
<p>Finally we can assess our forecast with the assess (ASE) function</p>
<div class="sourceCode"><pre class="r">assess(type = aruma, x = examplets, phi = pqs$phi, 
    theta = pqs$theta, s = szns, d = int_order, n.ahead = 20)</pre></div>
</div>
<div id="random-time-series-generation" class="section level2">
<h2 class="hasAnchor">
<a href="#random-time-series-generation" class="anchor"></a>Random time series generation:</h2>
<p>Generate a random time series to test yourself with <code><a href="reference/playground.html">playground(n)</a></code></p>
<div class="sourceCode"><pre class="r"><span class="no">xs</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/playground.html">playground</a></span>(<span class="fl">400</span>)</pre></div>
</div>
</div>
<div id="univariate-time-series-model-comparison" class="section level1">
<h1 class="hasAnchor">
<a href="#univariate-time-series-model-comparison" class="anchor"></a>Univariate Time Series Model Comparison</h1>
<p>Check out the vignette ‘ModelCompareUnivariate’</p>
<ul>
<li>Supports comparig the performance of multiple univariate models (ARMA, ARIMA and Seasonal ARIMA)</li>
<li>Suppport for simple forecasts and plotting</li>
<li>Support for Batch ASE calculations and plotting</li>
<li>Statistical Comparison of models (when using batch ASE method)</li>
<li>Boxplot of model comparison (ASE values)</li>
<li>Tabular metrics for manual anaysis (if needed)</li>
</ul>
</div>
<div id="multivariate-time-series-model-eda" class="section level1">
<h1 class="hasAnchor">
<a href="#multivariate-time-series-model-eda" class="anchor"></a>Multivariate Time Series Model EDA</h1>
<p>Vignete pending</p>
<ul>
<li>Supports plotting of realizations</li>
<li>Supports scatterplot matrix to check for correlations between variables and independence of dependent variables (assumnption of MLR model with correlated errors)</li>
<li>Support for plotting and analyzing cross-correlation data (CCF function)</li>
<li>Support for lag plots (pending)</li>
</ul>
</div>
<div id="multivariate-time-series-model-var-model-building" class="section level1">
<h1 class="hasAnchor">
<a href="#multivariate-time-series-model-var-model-building" class="anchor"></a>Multivariate Time Series Model (VAR) Model Building</h1>
<p>Check out the vignette ‘ModelBuildMultivariateVAR’</p>
<ul>
<li>VAR models are prone to overfitting if we use a lot of exogenous variables with a large lag order.</li>
<li>This class supports building multiple VAR models at the same time and provides recommendations for which features to keep in the final model.</li>
<li>User can then choose to keep all original variables or use the recommended model alternative.</li>
<li>The output from this class works well with the ModelCompareMultivariateVAR class and all the original and recommended models can be compared with each other using this class</li>
</ul>
</div>
<div id="multivariate-time-series-model-var-comparison" class="section level1">
<h1 class="hasAnchor">
<a href="#multivariate-time-series-model-var-comparison" class="anchor"></a>Multivariate Time Series Model (VAR) Comparison</h1>
<p>Check out the vignette ‘ModelCompareMultivariateVAR’</p>
<ul>
<li>Supports comparing the performance of multiple multivariate VAR models</li>
<li>Suppport for simple forecasts and plotting</li>
<li>Support for Batch ASE calculations and plotting</li>
<li>Statistical Comparison of models (when using batch ASE method)</li>
<li>Boxplot of model comparison (ASE values)</li>
<li>Tabular metrics for manual anaysis (if needed)</li>
</ul>
</div>
<div id="time-series-with-nnformlp-neural-network-model-building" class="section level1">
<h1 class="hasAnchor">
<a href="#time-series-with-nnformlp-neural-network-model-building" class="anchor"></a>Time Series with nnfor::mlp (Neural Network) Model Building</h1>
<p>Check out the vignette ‘ModelCompareNNforCaret’</p>
<ul>
<li>Builds the model with the caret framework.</li>
<li>Suppport for predefined or random grid search</li>
<li>Supports parallel processing using multiple cores to speed up the grid search</li>
<li>Support for sliding ASE while building models</li>
</ul>
</div>
<div id="time-series-with-nnformlp-neural-network-model-comparison" class="section level1">
<h1 class="hasAnchor">
<a href="#time-series-with-nnformlp-neural-network-model-comparison" class="anchor"></a>Time Series with nnfor::mlp (Neural Network) Model Comparison</h1>
<p>Check out the vignette ‘ModelCompareNNforCaret’</p>
<ul>
<li>Supports comparing the performance of multiple nnfor::mlp() submodels built by caret</li>
<li>Does not suppport simple forecasts and plotting yet (planned for the future)</li>
<li>Support for Batch ASE calculations and plotting</li>
<li>Statistical Comparison of models (when using batch ASE method)</li>
<li>Boxplot of model comparison (ASE values)</li>
<li>Tabular metrics for manual anaysis (if needed)</li>
</ul>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/AGPL-3">AGPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>David Josephs <br><small class="roles"> Author, maintainer </small>  </li>
<li>Nikhil Gupta <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by David Josephs, Nikhil Gupta.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
